<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FOR ASTREA ğŸ’ğŸ’</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@500&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(to right, #ffdde1, #ee9ca7);
      overflow-x: hidden;
    }.card {
  text-align: center;
  padding: 50px 20px;
}

h2 {
  font-family: 'Pacifico', cursive;
  font-size: 2.5em;
  margin-bottom: 20px;
  color: #6a0572;
}

.text-block {
  margin: 20px auto;
  max-width: 500px;
  padding: 30px;
  border-radius: 20px;
  color: white;
  font-size: 1.3em;
  opacity: 0;
  display: none;
  transition: transform 0.8s, opacity 0.8s;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
  transform: rotateX(90deg);
}

#text1 {
  background: radial-gradient(circle at top left, #ff6f91, #ff3d6f);
}
#text2 {
  background: radial-gradient(circle at top left, #ff9671, #ff7a59);
}
#text3 {
  background: radial-gradient(circle at top left, #ffc75f, #f9a602);
  color: #000;
}

.btn {
  padding: 12px 25px;
  font-size: 16px;
  margin-top: 20px;
  border: none;
  border-radius: 8px;
  background: #845ec2;
  color: white;
  cursor: pointer;
  transition: 0.3s;
}

.btn:hover {
  background: #6a5acd;
}

.confetti, .snowflake {
  position: fixed;
  top: -10px;
  z-index: 9999;
  pointer-events: none;
}

.confetti {
  border-radius: 50%;
  animation: fallConfetti linear forwards;
}

.snowflake {
  background: white;
  border-radius: 50%;
  animation: fallSnow linear forwards;
}

@keyframes fallConfetti {
  0% { transform: translateY(0); }
  100% { transform: translateY(100vh); }
}

@keyframes fallSnow {
  0% { transform: translateY(0); opacity: 1; }
  100% { transform: translateY(100vh); opacity: 0; }
}

  </style>
</head>
<body>
  <div class="card">
    <h2>GOOD MORNING ASTREA ğŸ’ğŸ’</h2><div id="text1" class="text-block">
  Saya, Tri Saputra, ingin meminta<br>
  maaf sebesar-besarnya kepada Astrea karena tidak sengaja merusak mood-nya.
</div>

<div id="text2" class="text-block">
  Thank you, Astrea. I hope you keep that beautiful smile with you.
</div>

<div id="text3" class="text-block">
  BTW PAGI INI INDAH, TAPI TAK SEINDAH SENYUMANMU ğŸŠğŸŠğŸŠ<br>ANJAY KIW KIW ğŸ¤­
</div>

<button class="btn" id="startBtn" onclick="startEffect()">Klik Me</button>
<button class="btn" id="forgiveBtn" onclick="showText2()" style="display: none;">Aku Maafin</button>
<button class="btn" id="nextBtn" onclick="showText3()" style="display: none;">Next</button>

  </div><audio id="bgMusic" src="about_you.mp3"></audio>

  <script>
    const text1 = document.getElementById('text1');
    const text2 = document.getElementById('text2');
    const text3 = document.getElementById('text3');
    const startBtn = document.getElementById('startBtn');
    const forgiveBtn = document.getElementById('forgiveBtn');
    const nextBtn = document.getElementById('nextBtn');
    const audio = document.getElementById('bgMusic');

    function startEffect() {
      startBtn.style.display = 'none';

      audio.play().catch(() => {});
      showBlock(text1);
      forgiveBtn.style.display = 'inline-block';
      setTimeout(() => forgiveBtn.style.opacity = 1, 100);

      audio.onloadedmetadata = () => {
        const dur = audio.duration * 1000;
        launchLoopedConfetti(dur);
        launchLoopedSnow(dur);
      };

      setTimeout(() => {
        if (isNaN(audio.duration)) {
          launchLoopedConfetti(30000);
          launchLoopedSnow(30000);
        }
      }, 1000);
    }

    function showText2() {
      hideBlock(text1);
      forgiveBtn.style.display = 'none';
      showBlock(text2);
      nextBtn.style.display = 'inline-block';
      setTimeout(() => nextBtn.style.opacity = 1, 100);
    }

    function showText3() {
      hideBlock(text2);
      nextBtn.style.display = 'none';
      showBlock(text3);
    }

    function showBlock(el) {
      el.style.display = 'block';
      setTimeout(() => {
        el.style.opacity = 1;
        el.style.transform = 'rotateX(0deg)';
      }, 50);
    }

    function hideBlock(el) {
      el.style.opacity = 0;
      el.style.transform = 'rotateX(90deg)';
      setTimeout(() => el.style.display = 'none', 500);
    }

    function launchLoopedConfetti(duration) {
      const iv = setInterval(() => launchConfetti(), 150);
      setTimeout(() => clearInterval(iv), duration);
    }

    function launchLoopedSnow(duration) {
      const iv = setInterval(() => launchSnow(), 200);
      setTimeout(() => clearInterval(iv), duration);
    }

    function launchConfetti() {
      const el = document.createElement('div');
      el.className = 'confetti';
      el.style.left = Math.random() * 100 + 'vw';
      el.style.width = el.style.height = '10px';
      el.style.backgroundColor = randomColor();
      el.style.animationDuration = 2 + Math.random() * 3 + 's';
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 5000);
    }

    function launchSnow() {
      const el = document.createElement('div');
      el.className = 'snowflake';
      const size = 5 + Math.random() * 10;
      el.style.width = el.style.height = size + 'px';
      el.style.left = Math.random() * 100 + 'vw';
      el.style.animationDuration = 5 + Math.random() * 5 + 's';
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 12000);
    }

    function randomColor() {
      return ['#ff99ac', '#ffcccb', '#f6c1d4', '#e75480', '#ffe4e1'][Math.floor(Math.random() * 5)];
    }
  </script></body>
</html>
